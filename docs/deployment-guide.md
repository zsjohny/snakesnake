# 📱 SnakeSnake 小程序发布指南

## 📋 目录

- [环境准备](#环境准备)
- [版本管理](#版本管理)
- [测试版发布](#测试版发布)
- [正式版发布](#正式版发布)
- [审核流程](#审核流程)
- [发布后管理](#发布后管理)
- [常见问题](#常见问题)

## 🛠️ 环境准备

### 1. 微信开发者工具

**下载安装**:

- 访问 [微信开发者工具官网](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- 下载适合您操作系统的版本
- 安装并登录微信开发者账号

**配置要求**:

- 版本: 1.06.2401150 或更高
- 支持 ES6 转 ES5
- 支持增强编译
- 支持 npm 构建

### 2. 小程序账号

**注册小程序**:

1. 访问 [微信公众平台](https://mp.weixin.qq.com/)
2. 注册小程序账号
3. 完成实名认证
4. 获取 AppID

**权限要求**:

- 开发者权限
- 体验者权限
- 管理员权限（用于发布）

### 3. 项目配置

**检查项目配置**:

```json
// project.config.json
{
  "appid": "你的小程序AppID",
  "projectname": "SnakeSnake",
  "description": "多人在线贪食蛇大战",
  "setting": {
    "urlCheck": false,
    "es6": true,
    "enhance": true,
    "postcss": true,
    "minified": true
  }
}
```

## 📦 版本管理

### 1. 版本号规范

**语义化版本**:

```
主版本号.次版本号.修订号
例如: 1.0.0, 1.1.0, 1.1.1
```

**版本类型**:

- **主版本号**: 重大功能更新，可能不兼容
- **次版本号**: 新功能添加，向下兼容
- **修订号**: Bug修复，向下兼容

### 2. 版本更新策略

**开发版本**: 用于开发测试

- 版本号: `1.0.0-dev`
- 更新频率: 每日或按需
- 用途: 功能开发和调试

**体验版本**: 用于内部测试

- 版本号: `1.0.0-beta`
- 更新频率: 每周
- 用途: 功能验证和Bug修复

**正式版本**: 用于用户使用

- 版本号: `1.0.0`
- 更新频率: 每月或按需
- 用途: 正式发布给用户

### 3. 版本记录

**更新日志**:

```markdown
# 版本 1.0.0 (2024-12-XX)

## 新功能

- 多人在线对战功能
- 实时排行榜系统
- 礼包和黑洞道具系统

## 优化

- 游戏性能优化
- 界面交互优化

## 修复

- 修复网络连接问题
- 修复排行榜显示问题
```

## 🧪 测试版发布

### 1. 开发版本上传

**步骤**:

1. 打开微信开发者工具
2. 导入 SnakeSnake 项目
3. 点击"上传"按钮
4. 填写版本号和项目备注
5. 点击"上传"

**版本信息**:

- 版本号: `1.0.0-dev`
- 项目备注: "开发版本 - 功能测试"

### 2. 体验版本设置

**添加体验者**:

1. 登录微信公众平台
2. 进入"管理" -> "成员管理"
3. 添加体验者微信号
4. 设置体验权限

**体验版本上传**:

1. 在开发者工具中点击"上传"
2. 版本号: `1.0.0-beta`
3. 项目备注: "体验版本 - 内部测试"
4. 上传成功后，体验者可在微信中体验

### 3. 测试流程

**功能测试**:

- [ ] 游戏基本功能
- [ ] 多人在线对战
- [ ] 排行榜系统
- [ ] 道具系统
- [ ] 用户界面

**性能测试**:

- [ ] 游戏流畅度
- [ ] 网络连接稳定性
- [ ] 内存使用情况
- [ ] 电池消耗

**兼容性测试**:

- [ ] 不同设备适配
- [ ] 不同微信版本
- [ ] 不同网络环境

## 🚀 正式版发布

### 1. 发布前检查

**代码检查**:

```bash
# 运行测试
npm test

# 代码检查
npm run lint

# 构建检查
npm run build
```

**配置检查**:

- [ ] AppID 配置正确
- [ ] 服务器地址配置正确
- [ ] 版本号更新
- [ ] 更新日志完善

### 2. 提交审核

**上传代码**:

1. 在开发者工具中点击"上传"
2. 版本号: `1.0.0`
3. 项目备注: "正式版本 - 多人在线贪食蛇大战"
4. 上传代码

**提交审核**:

1. 登录微信公众平台
2. 进入"版本管理"
3. 选择刚上传的版本
4. 点击"提交审核"
5. 填写审核信息

**审核信息**:

- 服务类目: 游戏 -> 休闲益智
- 功能介绍: 多人在线实时对战的贪食蛇游戏
- 测试账号: 提供测试账号和密码
- 测试说明: 详细的功能测试步骤

### 3. 审核等待

**审核时间**:

- 一般审核时间: 1-7个工作日
- 加急审核: 可申请加急（需要特殊原因）

**审核状态**:

- 审核中: 等待微信审核
- 审核通过: 可以发布
- 审核不通过: 需要修改后重新提交

## ✅ 审核流程

### 1. 审核标准

**内容合规**:

- 游戏内容健康向上
- 无违法违规内容
- 符合微信小程序规范

**功能完整**:

- 核心功能正常运行
- 无明显Bug
- 用户体验良好

**技术规范**:

- 代码质量良好
- 性能表现正常
- 安全措施到位

### 2. 常见审核问题

**内容问题**:

- 游戏内容过于暴力
- 存在赌博元素
- 涉及敏感话题

**技术问题**:

- 功能无法正常使用
- 性能问题严重
- 安全漏洞存在

**合规问题**:

- 未按要求提供测试账号
- 功能介绍不清晰
- 服务类目选择错误

### 3. 审核不通过处理

**查看审核结果**:

1. 登录微信公众平台
2. 查看审核反馈
3. 根据反馈修改代码

**修改后重新提交**:

1. 修复审核问题
2. 更新版本号
3. 重新上传代码
4. 重新提交审核

## 📊 发布后管理

### 1. 版本发布

**发布正式版**:

1. 审核通过后，点击"发布"
2. 确认发布信息
3. 发布成功

**灰度发布**:

1. 可选择灰度发布
2. 设置发布比例
3. 逐步扩大发布范围

### 2. 数据监控

**用户数据**:

- 日活跃用户数
- 新增用户数
- 用户留存率

**游戏数据**:

- 游戏时长
- 游戏次数
- 用户反馈

**技术数据**:

- 崩溃率
- 性能指标
- 网络质量

### 3. 版本更新

**热更新**:

- 修复紧急Bug
- 更新配置信息
- 优化用户体验

**版本更新**:

- 新功能发布
- 重大Bug修复
- 性能优化

## ❓ 常见问题

### 1. 上传失败

**问题**: 代码上传失败
**解决方案**:

- 检查网络连接
- 确认开发者权限
- 检查代码大小限制

### 2. 审核不通过

**问题**: 审核被拒绝
**解决方案**:

- 仔细阅读审核反馈
- 按要求修改代码
- 重新提交审核

### 3. 发布后问题

**问题**: 用户反馈Bug
**解决方案**:

- 及时收集用户反馈
- 快速修复问题
- 发布紧急更新

### 4. 性能问题

**问题**: 游戏卡顿或崩溃
**解决方案**:

- 优化代码性能
- 减少内存使用
- 优化网络请求

## 📞 技术支持

**官方文档**:

- [微信小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [微信小程序审核规范](https://developers.weixin.qq.com/miniprogram/product/reject.html)

**联系方式**:

- **GitHub Issues**: [https://github.com/zsjohny/snakesnake/issues](https://github.com/zsjohny/snakesnake/issues)
- **邮箱**: zs.johny@163.com
- **作者**: JohnyZheng

---

_最后更新时间: 2024年12月_
