# ğŸ—ï¸ SnakeSnake æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [æ ¸å¿ƒè®¾è®¡å›¾](#æ ¸å¿ƒè®¾è®¡å›¾)
- [æ•°æ®æµè®¾è®¡](#æ•°æ®æµè®¾è®¡)
- [æ¨¡å—è®¾è®¡](#æ¨¡å—è®¾è®¡)
- [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)

## ğŸ›ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SnakeSnake ç³»ç»Ÿæ¶æ„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   å¾®ä¿¡å°ç¨‹åºç«¯   â”‚    â”‚    WebSocket     â”‚                â”‚
â”‚  â”‚   (å‰ç«¯)        â”‚â—„â”€â”€â–ºâ”‚   æœåŠ¡å™¨         â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                        â”‚
â”‚           â”‚                       â”‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   ç”¨æˆ·ç•Œé¢å±‚     â”‚    â”‚   æ¸¸æˆé€»è¾‘å±‚     â”‚                â”‚
â”‚  â”‚   (UI Layer)    â”‚    â”‚   (Game Logic)  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                        â”‚
â”‚           â”‚                       â”‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   æ¸²æŸ“å¼•æ“å±‚     â”‚    â”‚   ç½‘ç»œé€šä¿¡å±‚     â”‚                â”‚
â”‚  â”‚  (Canvas API)   â”‚    â”‚  (WebSocket)    â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    åç«¯æœåŠ¡å±‚                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚ ç”¨æˆ·è®¤è¯æœåŠ¡ â”‚ â”‚ æ¸¸æˆæˆ¿é—´æœåŠ¡ â”‚ â”‚ æ’è¡Œæ¦œæœåŠ¡   â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚ æ•°æ®å­˜å‚¨æœåŠ¡ â”‚ â”‚ æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ â”‚ â”‚ ç›‘æ§æ—¥å¿—æœåŠ¡ â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è¡¨ç°å±‚ (Presentation Layer)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ å¾®ä¿¡å°ç¨‹åºé¡µé¢ (WXML/WXSS)                                â”‚
â”‚  â€¢ ç”¨æˆ·äº¤äº’å¤„ç†                                              â”‚
â”‚  â€¢ ç•Œé¢çŠ¶æ€ç®¡ç†                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        ä¸šåŠ¡å±‚ (Business Layer)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ æ¸¸æˆé€»è¾‘å¼•æ“                                              â”‚
â”‚  â€¢ ç¢°æ’æ£€æµ‹ç®—æ³•                                              â”‚
â”‚  â€¢ å¾—åˆ†è®¡ç®—ç³»ç»Ÿ                                              â”‚
â”‚  â€¢ æ’è¡Œæ¦œç®—æ³•                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        æœåŠ¡å±‚ (Service Layer)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ WebSocketé€šä¿¡æœåŠ¡                                         â”‚
â”‚  â€¢ ç”¨æˆ·è®¤è¯æœåŠ¡                                              â”‚
â”‚  â€¢ æ•°æ®æŒä¹…åŒ–æœåŠ¡                                            â”‚
â”‚  â€¢ å®æ—¶æ¶ˆæ¯æœåŠ¡                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        æ•°æ®å±‚ (Data Layer)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ æœ¬åœ°å­˜å‚¨ (Storage)                                        â”‚
â”‚  â€¢ è¿œç¨‹æ•°æ®åº“ (MongoDB/MySQL)                                â”‚
â”‚  â€¢ ç¼“å­˜æœåŠ¡ (Redis)                                          â”‚
â”‚  â€¢ æ–‡ä»¶å­˜å‚¨ (OSS/COS)                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿå¼€å‘
- **æ¸²æŸ“**: Canvas API
- **é€šä¿¡**: WebSocket
- **çŠ¶æ€ç®¡ç†**: å°ç¨‹åºåŸç”ŸçŠ¶æ€ç®¡ç†
- **æ ·å¼**: WXSS (ç±»ä¼¼CSS)
- **æ¨¡æ¿**: WXML (ç±»ä¼¼HTML)

### åç«¯æŠ€æœ¯æ ˆæ¨è
- **WebSocketæœåŠ¡å™¨**: Socket.IO / ws
- **APIæœåŠ¡å™¨**: Express.js / Koa.js / Fastify
- **æ•°æ®åº“**: MongoDB / MySQL / PostgreSQL
- **ç¼“å­˜**: Redis
- **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ / Redis Pub/Sub
- **éƒ¨ç½²**: Docker + Kubernetes / äº‘æœåŠ¡

## ğŸ¨ æ ¸å¿ƒè®¾è®¡å›¾

### æ¸¸æˆæµç¨‹å›¾

```mermaid
graph TD
    A[ç”¨æˆ·å¯åŠ¨å°ç¨‹åº] --> B[åˆå§‹åŒ–æ¸¸æˆ]
    B --> C[è¿æ¥WebSocketæœåŠ¡å™¨]
    C --> D{è¿æ¥æˆåŠŸ?}
    D -->|æ˜¯| E[è¿›å…¥æ¸¸æˆå¤§å…]
    D -->|å¦| F[æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯]
    E --> G[é€‰æ‹©æ¸¸æˆæ¨¡å¼]
    G --> H[åŠ å…¥æ¸¸æˆæˆ¿é—´]
    H --> I[ç­‰å¾…å…¶ä»–ç©å®¶]
    I --> J[æ¸¸æˆå¼€å§‹]
    J --> K[æ¸¸æˆå¾ªç¯]
    K --> L{æ¸¸æˆç»“æŸ?}
    L -->|å¦| M[æ›´æ–°æ¸¸æˆçŠ¶æ€]
    M --> N[å‘é€çŠ¶æ€åˆ°æœåŠ¡å™¨]
    N --> O[æ¥æ”¶å…¶ä»–ç©å®¶çŠ¶æ€]
    O --> P[æ¸²æŸ“æ¸¸æˆç”»é¢]
    P --> K
    L -->|æ˜¯| Q[è®¡ç®—æœ€ç»ˆå¾—åˆ†]
    Q --> R[æ›´æ–°æ’è¡Œæ¦œ]
    R --> S[æ˜¾ç¤ºæ¸¸æˆç»“æœ]
    S --> T{ç»§ç»­æ¸¸æˆ?}
    T -->|æ˜¯| G
    T -->|å¦| U[è¿”å›å¤§å…]
```

### æ•°æ®æµå›¾

```mermaid
sequenceDiagram
    participant Client as å°ç¨‹åºå®¢æˆ·ç«¯
    participant WS as WebSocketæœåŠ¡å™¨
    participant Game as æ¸¸æˆé€»è¾‘æœåŠ¡
    participant DB as æ•°æ®åº“
    participant Cache as ç¼“å­˜æœåŠ¡

    Client->>WS: è¿æ¥è¯·æ±‚
    WS->>Client: è¿æ¥ç¡®è®¤
    Client->>WS: åŠ å…¥æˆ¿é—´
    WS->>Game: åˆ›å»ºæ¸¸æˆæˆ¿é—´
    Game->>DB: ä¿å­˜æˆ¿é—´ä¿¡æ¯
    Game->>Cache: ç¼“å­˜æˆ¿é—´çŠ¶æ€
    WS->>Client: æˆ¿é—´åŠ å…¥æˆåŠŸ

    loop æ¸¸æˆè¿›è¡Œä¸­
        Client->>WS: å‘é€ç§»åŠ¨æŒ‡ä»¤
        WS->>Game: å¤„ç†ç§»åŠ¨é€»è¾‘
        Game->>Cache: æ›´æ–°æ¸¸æˆçŠ¶æ€
        Game->>WS: å¹¿æ’­æ¸¸æˆçŠ¶æ€
        WS->>Client: æ¥æ”¶å…¶ä»–ç©å®¶çŠ¶æ€
        Client->>Client: æ¸²æŸ“æ¸¸æˆç”»é¢
    end

    Game->>DB: ä¿å­˜æ¸¸æˆç»“æœ
    Game->>Cache: æ›´æ–°æ’è¡Œæ¦œ
    WS->>Client: å‘é€æ¸¸æˆç»“æœ
```

### ç»„ä»¶å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SnakeSnake ç»„ä»¶æ¶æ„                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚     App.js      â”‚    â”‚   Global Data   â”‚                â”‚
â”‚  â”‚   (åº”ç”¨å…¥å£)     â”‚â—„â”€â”€â–ºâ”‚   (å…¨å±€æ•°æ®)     â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    é¡µé¢ç»„ä»¶                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚   Index     â”‚ â”‚    Game     â”‚ â”‚    Rank     â”‚       â”‚ â”‚
â”‚  â”‚  â”‚  (é¦–é¡µ)     â”‚ â”‚   (æ¸¸æˆ)    â”‚ â”‚  (æ’è¡Œæ¦œ)   â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚ â”‚
â”‚  â”‚  â”‚   Profile   â”‚                                       â”‚ â”‚
â”‚  â”‚  â”‚ (ä¸ªäººèµ„æ–™)   â”‚                                       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    æ¸¸æˆå¼•æ“                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚ Game Loop   â”‚ â”‚ Collision   â”‚ â”‚ Render      â”‚       â”‚ â”‚
â”‚  â”‚  â”‚ (æ¸¸æˆå¾ªç¯)   â”‚ â”‚ Detection   â”‚ â”‚ (æ¸²æŸ“å¼•æ“)   â”‚       â”‚ â”‚
â”‚  â”‚  â”‚             â”‚ â”‚ (ç¢°æ’æ£€æµ‹)   â”‚ â”‚ (æ¸²æŸ“å¼•æ“)   â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚ Score       â”‚ â”‚ Ranking     â”‚ â”‚ Network     â”‚       â”‚ â”‚
â”‚  â”‚  â”‚ System      â”‚ â”‚ System      â”‚ â”‚ Manager     â”‚       â”‚ â”‚
â”‚  â”‚  â”‚ (å¾—åˆ†ç³»ç»Ÿ)   â”‚ â”‚ (æ’è¡Œæ¦œ)    â”‚ â”‚ (ç½‘ç»œç®¡ç†)   â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®åº“è®¾è®¡å›¾

```mermaid
erDiagram
    USER {
        string id PK
        string openid
        string nickname
        string avatar_url
        int total_score
        int total_games
        int best_score
        datetime created_at
        datetime updated_at
    }
    
    GAME_ROOM {
        string id PK
        string room_name
        int max_players
        int current_players
        string status
        datetime created_at
        datetime started_at
        datetime ended_at
    }
    
    GAME_SESSION {
        string id PK
        string room_id FK
        string user_id FK
        int score
        int snake_length
        int rank
        string game_data
        datetime created_at
    }
    
    LEADERBOARD {
        string id PK
        string user_id FK
        string period_type
        int score
        int rank
        datetime period_start
        datetime period_end
    }
    
    ACHIEVEMENT {
        string id PK
        string user_id FK
        string achievement_type
        string title
        string description
        int progress
        int target
        boolean completed
        datetime completed_at
    }
    
    USER ||--o{ GAME_SESSION : "participates"
    GAME_ROOM ||--o{ GAME_SESSION : "contains"
    USER ||--o{ LEADERBOARD : "ranked_in"
    USER ||--o{ ACHIEVEMENT : "has"
```

## ğŸ”„ æ•°æ®æµè®¾è®¡

### å®æ—¶æ•°æ®æµ

```
å®¢æˆ·ç«¯ â†â†’ WebSocketæœåŠ¡å™¨ â†â†’ æ¸¸æˆé€»è¾‘æœåŠ¡ â†â†’ æ•°æ®å­˜å‚¨
   â†‘              â†‘              â†‘              â†‘
   â”‚              â”‚              â”‚              â”‚
   â–¼              â–¼              â–¼              â–¼
æœ¬åœ°ç¼“å­˜     æ¶ˆæ¯é˜Ÿåˆ—        ä¸šåŠ¡é€»è¾‘        æŒä¹…åŒ–å­˜å‚¨
```

### æ•°æ®åŒæ­¥ç­–ç•¥

1. **çŠ¶æ€åŒæ­¥**: æ¸¸æˆçŠ¶æ€é€šè¿‡WebSocketå®æ—¶åŒæ­¥
2. **å¢é‡æ›´æ–°**: åªä¼ è¾“å˜åŒ–çš„æ•°æ®ï¼Œå‡å°‘ç½‘ç»œå¼€é”€
3. **å†²çªè§£å†³**: æœåŠ¡å™¨æƒå¨ï¼Œå®¢æˆ·ç«¯çŠ¶æ€ä»¥æœåŠ¡å™¨ä¸ºå‡†
4. **æ–­çº¿é‡è¿**: æ”¯æŒæ–­çº¿é‡è¿ï¼Œæ¢å¤æ¸¸æˆçŠ¶æ€

## ğŸ§© æ¨¡å—è®¾è®¡

### æ ¸å¿ƒæ¨¡å—

#### 1. æ¸¸æˆå¼•æ“æ¨¡å—
- **èŒè´£**: æ¸¸æˆé€»è¾‘å¤„ç†ã€çŠ¶æ€ç®¡ç†
- **æ¥å£**: 
  - `initGame()`: åˆå§‹åŒ–æ¸¸æˆ
  - `updateGame()`: æ›´æ–°æ¸¸æˆçŠ¶æ€
  - `renderGame()`: æ¸²æŸ“æ¸¸æˆç”»é¢
  - `handleInput()`: å¤„ç†ç”¨æˆ·è¾“å…¥

#### 2. ç½‘ç»œé€šä¿¡æ¨¡å—
- **èŒè´£**: WebSocketè¿æ¥ç®¡ç†ã€æ¶ˆæ¯å¤„ç†
- **æ¥å£**:
  - `connect()`: å»ºç«‹è¿æ¥
  - `sendMessage()`: å‘é€æ¶ˆæ¯
  - `onMessage()`: æ¥æ”¶æ¶ˆæ¯
  - `disconnect()`: æ–­å¼€è¿æ¥

#### 3. æ’è¡Œæ¦œæ¨¡å—
- **èŒè´£**: åˆ†æ•°è®¡ç®—ã€æ’åæ›´æ–°
- **æ¥å£**:
  - `updateScore()`: æ›´æ–°åˆ†æ•°
  - `getRanking()`: è·å–æ’å
  - `getLeaderboard()`: è·å–æ’è¡Œæ¦œ

#### 4. æˆå°±ç³»ç»Ÿæ¨¡å—
- **èŒè´£**: æˆå°±æ£€æµ‹ã€è¿›åº¦è·Ÿè¸ª
- **æ¥å£**:
  - `checkAchievement()`: æ£€æŸ¥æˆå°±
  - `updateProgress()`: æ›´æ–°è¿›åº¦
  - `getAchievements()`: è·å–æˆå°±åˆ—è¡¨

### æ¨¡å—ä¾èµ–å…³ç³»

```
App.js
â”œâ”€â”€ GameEngine
â”‚   â”œâ”€â”€ CollisionDetector
â”‚   â”œâ”€â”€ ScoreCalculator
â”‚   â””â”€â”€ StateManager
â”œâ”€â”€ NetworkManager
â”‚   â”œâ”€â”€ WebSocketClient
â”‚   â””â”€â”€ MessageHandler
â”œâ”€â”€ RankingSystem
â”‚   â”œâ”€â”€ ScoreTracker
â”‚   â””â”€â”€ LeaderboardManager
â””â”€â”€ AchievementSystem
    â”œâ”€â”€ AchievementChecker
    â””â”€â”€ ProgressTracker
```

## ğŸš€ éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¾®ä¿¡å¼€å‘è€…å·¥å…·   â”‚    â”‚   æœ¬åœ°æœåŠ¡å™¨     â”‚
â”‚   (å‰ç«¯è°ƒè¯•)     â”‚â—„â”€â”€â–ºâ”‚   (åç«¯å¼€å‘)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æµ‹è¯•ç¯å¢ƒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æµ‹è¯•å°ç¨‹åº     â”‚    â”‚   æµ‹è¯•æœåŠ¡å™¨     â”‚    â”‚   æµ‹è¯•æ•°æ®åº“     â”‚
â”‚   (Staging)     â”‚â—„â”€â”€â–ºâ”‚   (Test API)    â”‚â—„â”€â”€â–ºâ”‚   (Test DB)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”Ÿäº§ç¯å¢ƒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”Ÿäº§å°ç¨‹åº     â”‚    â”‚   è´Ÿè½½å‡è¡¡å™¨     â”‚    â”‚   åº”ç”¨æœåŠ¡å™¨é›†ç¾¤  â”‚
â”‚   (Production)  â”‚â—„â”€â”€â–ºâ”‚   (Nginx/LB)    â”‚â—„â”€â”€â–ºâ”‚   (App Servers) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚   æ•°æ®åº“é›†ç¾¤     â”‚
                                              â”‚   (DB Cluster)  â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### ç›®æ ‡æ€§èƒ½
- **å“åº”æ—¶é—´**: < 100ms
- **å¹¶å‘ç”¨æˆ·**: 1000+
- **æ¸¸æˆå»¶è¿Ÿ**: < 50ms
- **å¯ç”¨æ€§**: 99.9%

### ç›‘æ§æŒ‡æ ‡
- **æœåŠ¡å™¨æ€§èƒ½**: CPUã€å†…å­˜ã€ç½‘ç»œ
- **æ¸¸æˆæ€§èƒ½**: FPSã€å»¶è¿Ÿã€ä¸¢åŒ…ç‡
- **ç”¨æˆ·ä½“éªŒ**: åŠ è½½æ—¶é—´ã€å“åº”æ—¶é—´
- **ä¸šåŠ¡æŒ‡æ ‡**: åœ¨çº¿ç”¨æˆ·æ•°ã€æ¸¸æˆå±€æ•°

## ğŸ”’ å®‰å…¨è®¾è®¡

### å®‰å…¨æªæ–½
1. **ç”¨æˆ·è®¤è¯**: å¾®ä¿¡æˆæƒç™»å½•
2. **æ•°æ®éªŒè¯**: æœåŠ¡å™¨ç«¯æ•°æ®éªŒè¯
3. **é˜²ä½œå¼Š**: æœåŠ¡å™¨æƒå¨éªŒè¯
4. **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
5. **è®¿é—®æ§åˆ¶**: åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶

### å®‰å…¨æ¶æ„
```
å®¢æˆ·ç«¯ â†â†’ HTTPS/WSS â†â†’ ç½‘å…³ â†â†’ åº”ç”¨æœåŠ¡ â†â†’ æ•°æ®åº“
   â†‘         â†‘         â†‘         â†‘         â†‘
   â”‚         â”‚         â”‚         â”‚         â”‚
   â–¼         â–¼         â–¼         â–¼         â–¼
æœ¬åœ°éªŒè¯   ä¼ è¾“åŠ å¯†   è®¿é—®æ§åˆ¶   ä¸šåŠ¡éªŒè¯   æ•°æ®åŠ å¯†
```

---

**æ³¨æ„**: æœ¬æ–‡æ¡£æè¿°äº†SnakeSnakeé¡¹ç›®çš„æ•´ä½“æ¶æ„è®¾è®¡ï¼Œä¸ºå¼€å‘å›¢é˜Ÿæä¾›æŠ€æœ¯æŒ‡å¯¼ã€‚ 